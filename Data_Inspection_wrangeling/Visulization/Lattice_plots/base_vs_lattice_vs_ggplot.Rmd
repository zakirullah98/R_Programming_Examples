---
title: "base_vs_lattice_vs_ggplot"
output: html_document
---

```{r}
# Base R plotting
par(mfrow = c(1, 3))  # 3 panels manually
unique_cyl <- sort(unique(mtcars$cyl))

for (c in unique_cyl) {
  subset_data <- subset(mtcars, cyl == c)
  plot(subset_data$wt, subset_data$mpg,
       main = paste("Cyl =", c),
       xlab = "Weight",
       ylab = "MPG",
       pch = 19, col = "blue")
  abline(lm(mpg ~ wt, data = subset_data), col = "red", lwd = 2)
}

par(mfrow = c(1, 1))  # Reset layout
```
```{r}
library(lattice)

xyplot(mpg ~ wt | factor(cyl), data = mtcars,
       main = "Lattice: MPG vs Weight by Cylinders",
       xlab = "Weight", ylab = "MPG",
       layout = c(3, 1),
       pch = 19, col = "blue",
       panel = function(x, y, ...) {
         panel.xyplot(x, y, ...)
         panel.lmline(x, y, col = "red", lwd = 2)
       })
```
```{r}
library(ggplot2)

ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point(aes(color = factor(cyl)), size = 3) +  # scatter points colored by cyl
  geom_smooth(aes(color = factor(cyl)), method = "lm", se = FALSE) + # regression line
  facet_wrap(~ cyl) +  # create panels per cylinder
  labs(title = "ggplot2: MPG vs Weight by Cylinders",
       x = "Weight",
       y = "Miles per Gallon") +
  theme_minimal()
```

